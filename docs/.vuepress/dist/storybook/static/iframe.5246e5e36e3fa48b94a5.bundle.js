(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,n){n("d754"),n("fbfb"),e.exports=n("27af")},"052e":function(e,t,n){"use strict";n.r(t);var i={name:"FieldDataRange",mixins:[n("78e6").a],data:function(){return{defaultProps:{clearable:!0,style:{width:"240px"},type:"daterange",startPlaceholder:"开始日期",endPlaceholder:"结束日期",expandTrigger:"hover"}}}},l=n("2877"),r=Object(l.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-date-picker",e._g(e._b({attrs:{placeholder:e.field.label,disabled:e.field.disabled},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-date-picker",e.mergedProps,!1),e.mergedEvents))},[],!1,null,null,null);r.options.__file="field-date-range.vue";t.default=r.exports},1557:function(e,t,n){"use strict";n.r(t);var i=n("78e6"),l=n("1765"),r=n("fa7d"),a={name:"FieldText",components:{VNode:l.a},mixins:[i.a],data:function(){return{defaultProps:{clearable:!0,style:{width:"180px"}}}},methods:{isVNode:r.b}},o=n("2877"),s=Object(o.a)(a,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-input",e._g(e._b({attrs:{placeholder:e.field.label,disabled:e.field.disabled},model:{value:e.value,callback:function(t){e.value="string"==typeof t?t.trim():t},expression:"value"}},"el-input",e.mergedProps,!1),e.mergedEvents),[e._l(e.componentSlots,function(t,i){return n("template",{slot:i},[e.isVNode(t)?n("v-node",{key:i,attrs:{node:t}}):[e._v(e._s(t))]],2)})],2)},[],!1,null,null,null);s.options.__file="field-text.vue";t.default=s.exports},"15a5":function(e,t,n){var i={"./1-layout.stories.js":"c433","./2-demo.stories.js":"530d"};function l(e){var t=r(e);return n(t)}function r(e){var t=i[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}l.keys=function(){return Object.keys(i)},l.resolve=r,e.exports=l,l.id="15a5"},1765:function(e,t,n){"use strict";t.a={abstract:!0,name:"VNode",props:["node"],render:function(){return this.node}}},"182e":function(e,t,n){"use strict";n.r(t);var i={name:"FieldSelect",mixins:[n("78e6").a],data:function(){return{defaultProps:{clearable:!0,filterable:!0,style:{width:"180px"}}}}},l=n("2877"),r=Object(l.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",e._g(e._b({attrs:{placeholder:e.field.label,disabled:e.field.disabled},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-select",e.mergedProps,!1),e.mergedEvents),[Array.isArray(e.field.options)?e._l(e.field.options,function(t,i){return n("el-option",e._b({key:i},"el-option",t,!1))}):e._e()],2)},[],!1,null,null,null);r.options.__file="field-select.vue";t.default=r.exports},2466:function(e,t,n){var i={"./field-cascader.vue":"c9cb","./field-date-range.vue":"052e","./field-date-time-range.vue":"9ede","./field-date-time.vue":"bd89","./field-date.vue":"2c5c","./field-label.vue":"79ba","./field-multiple-select.vue":"fa86","./field-number.vue":"bdca","./field-select.vue":"182e","./field-text.vue":"1557","./field-time-picker-range.vue":"b86b","./field-time-picker.vue":"fccc","./field-time-select.vue":"dd68"};function l(e){var t=r(e);return n(t)}function r(e){var t=i[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}l.keys=function(){return Object.keys(i)},l.resolve=r,e.exports=l,l.id="2466"},"27af":function(e,t,n){"use strict";n.r(t),function(e){var t=n("a026"),i=n("7d14"),l=n("01b6"),r=n("9224"),a=(n("f5df"),n("b635"));t.default.use(a.a),t.default.use(a.b),Object(l.setOptions)({name:"Vue Listview v".concat(r.a)}),Object(i.configure)(function(){var e=n("15a5");e.keys().forEach(function(t){return e(t)})},e)}.call(this,n("dd40")(e))},"2c5c":function(e,t,n){"use strict";n.r(t);var i={name:"FieldDate",mixins:[n("78e6").a],data:function(){return{defaultProps:{clearable:!0,style:{width:"180px"}}}}},l=n("2877"),r=Object(l.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-date-picker",e._g(e._b({attrs:{placeholder:e.field.label,disabled:e.field.disabled},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-date-picker",e.mergedProps,!1),e.mergedEvents))},[],!1,null,null,null);r.options.__file="field-date.vue";t.default=r.exports},5148:function(e,t,n){"use strict";var i=n("608c");n.n(i).a},"530d":function(e,t,n){"use strict";n.r(t),function(e){var t=n("7d14"),i=n("ab54"),l=n("85fc"),r=n("8fc6"),a=n.n(r),o=n("86e1"),s=n.n(o),c=n("c057"),u=n.n(c),d=Object(t.storiesOf)("特殊案例 demo",e);d.add("1. 搜索栏操作按钮 loading 状态",Object(i.withReadme)(a.a,function(){return{template:'\n      <listview\n        :filter-buttons="filterButtons"\n        :filter-fields="filterFields"\n      />\n    ',data:function(){var e=this,t=this.$createElement;return{filterFields:l.c,exportBtnLoading:!1,filterButtons:[{type:"success",text:"添加",icon:"el-icon-plus",click:this.handleRefund},function(){return t("el-button",{attrs:{loading:e.exportBtnLoading,icon:"el-icon-download"},on:{click:e.handleExport}},["导出Excel"])}]}},methods:{handleExport:function(){var e=this;this.exportBtnLoading=!0,setTimeout(function(){e.exportBtnLoading=!1},1500)}}}})),d.add("2. 自定义右侧附加操作按钮",Object(i.withReadme)(s.a,function(){return{template:'\n      <listview :filter-fields="filterFields">\n        <el-button slot="prepend-filterbar-submit" type="danger" icon="el-icon-edit">一键重算</el-button>\n        <el-button slot="append-filterbar-submit" type="success" icon="el-icon-edit">一键重算</el-button>\n      </listview>\n    ',data:function(){return{filterFields:l.c}}}})),d.add("3. 自定义组件绑定 label",Object(i.withReadme)(u.a,function(){return{template:'<listview :filter-fields="filterFields" :filter-model="filterModel" />',data:function(){var e=this,t=this.$createElement;return{filterModel:{select:null},filterFields:[{model:"select",label:"选项提示",render:function(){return t("select",{style:"height:32px;width:100px",domProps:{value:e.filterModel.select},on:{change:function(t){e.$set(e.filterModel,"select",t.target.value)}}},[t("option",{attrs:{value:""}}),t("option",{attrs:{value:"1"}},["选项1"]),t("option",{attrs:{value:"2"}},["选项2"])])}}]}}}}))}.call(this,n("dd40")(e))},"5b26":function(e,t,n){"use strict";var i=n("d5f3");n.n(i).a},"608c":function(e,t,n){var i=n("8549");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("499e").default)("53e9c358",i,!0,{sourceMap:!1,shadowMode:!1})},"78e2":function(e,t,n){var i=n("b3d2");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("499e").default)("90a351a6",i,!0,{sourceMap:!1,shadowMode:!1})},"78e6":function(e,t,n){"use strict";var i=n("42454"),l=n.n(i),r=n("60ed"),a=n.n(r),o=n("bba4"),s=n.n(o),c=n("938a"),u=n("fa7d");t.a={props:{model:{type:Object,default:function(){return{}}},field:{type:Object,default:function(){return{}}}},computed:{value:{get:function(){if(Object(u.c)(this.field)){var e=Object(c.a)(this.model,this.field.model);return"multipleSelect"===s()(this.field.type)&&(e=Array.isArray(e)?e:[]),e}},set:function(e){if(Object(u.c)(this.field)){var t=this.model,n=this.field.model;this.$set(t,n,e)}}},mergedProps:function(){var e=a()(this.defaultProps)?this.defaultProps:{},t=a()(this.field.componentProps)?this.field.componentProps:{};return l()(e,t)},mergedEvents:function(){return a()(this.field.componentEvents)?this.field.componentEvents:{}},componentSlots:function(){return this.field.componentSlots||{}}}}},"79ba":function(e,t,n){"use strict";n.r(t);var i={name:"FieldLabel",mixins:[n("78e6").a]},l=n("2877"),r=Object(l.a)(i,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-form-item__label"},[this._v(this._s(this.field.label))])},[],!1,null,null,null);r.options.__file="field-label.vue";t.default=r.exports},8549:function(e,t,n){(e.exports=n("2350")(!1)).push([e.i,"\n.filterbar__field-label{position:absolute;top:0;left:10px;z-index:1;padding:0 .2em;font-size:12px;line-height:12px;color:#999;white-space:nowrap;background-color:#fff;opacity:1;-webkit-transform:translateY(-50%) scale(.9);transform:translateY(-50%) scale(.9);-webkit-transform-origin:center bottom;transform-origin:center bottom\n}\n.label-trans-enter-active,.label-trans-leave-active{top:0;opacity:1;-webkit-transition:.2s;transition:.2s\n}\n.label-trans-enter,.label-trans-leave-active{top:50%;opacity:0\n}",""])},"85fc":function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"d",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return s});var i=n("cc29"),l=[{text:"default",click:Object(i.action)("click:button-default")},{type:"primary",icon:"el-icon-edit",text:"primary",click:Object(i.action)("click:button-primary")},{type:"success",icon:"el-icon-check",text:"success",click:Object(i.action)("click:button-success")},{type:"info",icon:"el-icon-message",text:"info",click:Object(i.action)("click:button-info")},{type:"warning",icon:"el-icon-star-off",text:"warning",click:Object(i.action)("click:button-warning")},{type:"danger",icon:"el-icon-delete",text:"danger",click:Object(i.action)("click:button-danger")},{type:"primary",text:"下拉按钮",click:Object(i.action)("click:button-dropdown1"),children:[{text:"菜单1",click:Object(i.action)("click:button-dropdown1-sub1")},{text:"菜单2",click:Object(i.action)("click:button-dropdown1-sub2")}]},{type:"primary",text:"分裂下拉",splitButton:!0,click:Object(i.action)("click:button-dropdown2"),children:[{text:"菜单1",click:Object(i.action)("click:button-dropdown2-sub1")},{text:"菜单2",click:Object(i.action)("click:button-dropdown2-sub2")}]}],r=[{type:"text",model:"name",label:"文本字段"},{type:"text",model:"name2",label:"禁用文本",disabled:!0},{type:"number",model:"number"},{type:"select",model:"select",label:"单选字段",options:[{label:"选项 1",value:1},{label:"选项 2",value:2},{label:"选项 3",value:3},{label:"禁用项",value:4,disabled:!0}]},{type:"multiple-Select",model:"multipleSelect",label:"多选字段",options:[{label:"选项 1",value:1},{label:"选项 2",value:2},{label:"选项 3",value:3},{label:"禁用项",value:4,disabled:!0}]},{type:"date",model:"date",label:"日期选择"},{type:"dateRange",model:"dateRange",label:"日期范围"},{type:"timeSelect",model:"timeSelect",label:"固定时间"},{type:"timePicker",model:"timePicker",label:"任意时间"},{type:"timePickerRange",model:"timePickerRange",label:"时间范围"},{type:"dateTime",model:"dateTime",label:"日期时间"},{type:"dateTimeRange",model:"dateTimeRange",label:"日期时间范围"},{type:"cascader",model:"cascader",label:"级联选项",options:[{value:"1",label:"菜单1",children:[{value:"2",label:"菜单2",children:[{value:"3",label:"菜单3",children:[{value:"4",label:"菜单4"}]}]}]}]},{type:"label",label:"文本标签"}],a=[l[2],l[5]],o=[r[0],r[4]],s=[{label:"自定义标签",prop:"sku",width:100,align:"center",fixed:!0},{label:"产品名称",prop:"name",width:200,align:"center",fixed:!0},{label:"操作",width:150,align:"center",fixed:!0,render:function(e){return h("div",[h("el-button",{on:{click:function(e){return e.stopPropagation()}},style:"padding:4px 8px",attrs:{size:"mini",type:"success"}},["审核"]),h("el-button",{on:{click:function(e){return e.stopPropagation()}},style:"padding:4px 8px",attrs:{size:"mini",type:"danger"}},["删除"])])}},{label:"销售员",prop:"seller",align:"center"},{label:"仓库",prop:"warehouse",align:"center"},{label:"零售价格",prop:"sale_price",align:"center"},{label:"折扣率",align:"center",formatter:function(e){return e.discount.toFixed(2)}},{label:"折后价",align:"center",formatter:function(e){return(e.discount*e.sale_price).toFixed(2)}},{label:"折扣时间",align:"center",children:[{label:"折扣开始",prop:"date",align:"center"},{label:"折扣结束",prop:"date",align:"center"}]},{label:"数量",prop:"quantity",align:"center"},{label:"是否启用",align:"center",render:function(e){return e.row.enable?h("div",{style:"color:#67c23a"},["启用"]):h("div",{style:"color:#f56c6c"},["禁用"])}},{label:"创建人",prop:"seller",align:"center"},{label:"创建时间",prop:"date",align:"center"},{label:"最后修改",align:"center",children:[{label:"修改人",prop:"seller",align:"center"},{label:"修改时间",prop:"date",align:"center"}]}]},"86e1":function(e,t){e.exports='<h1 id="-">自定义右侧附加操作按钮</h1>\n<p>通过 slot <code>prepend-filterbar-submit</code> 和 <code>append-filterbar-submit</code> 可分别在搜索栏右侧“搜索”和“重置”按钮前后添加自定义内容，一般用于用于添加操作按钮。</p>\n<pre><code class="language-vue">&lt;template&gt;\n  &lt;listview :filter-fields=&quot;filterFields&quot;&gt;\n    &lt;el-button\n      slot=&quot;prepend-filterbar-submit&quot;\n      type=&quot;danger&quot;\n      icon=&quot;el-icon-edit&quot;\n    &gt;一键重算&lt;/el-button&gt;\n    &lt;el-button\n      slot=&quot;append-filterbar-submit&quot;\n      type=&quot;success&quot;\n      icon=&quot;el-icon-edit&quot;\n    &gt;一键重算&lt;/el-button&gt;\n  &lt;/listview&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  // ...\n  data() {\n    filterFields: [\n      {\n        type: &#39;text&#39;,\n        model: &#39;name&#39;,\n        label: &#39;文本字段&#39;\n      }\n    ]\n  }\n}\n&lt;/script&gt;</code></pre>\n<p>如果需要添加多个元素，可使用 <code>&lt;template&gt;</code> 包裹，或者直接写多个同名 slot 即可：</p>\n<pre><code class="language-vue">&lt;listview&gt;\n  &lt;template slot=&quot;prepend-filterbar-submit&quot;&gt;\n    &lt;el-button type=&quot;danger&quot; icon=&quot;el-icon-edit&quot;&gt;一键重算1&lt;/el-button&gt;\n    &lt;el-button type=&quot;danger&quot; icon=&quot;el-icon-edit&quot;&gt;一键重算2&lt;/el-button&gt;\n  &lt;/template&gt;\n\n  &lt;!-- 或者 --&gt;\n  &lt;el-button\n    slot=&quot;append-filterbar-submit&quot;\n    type=&quot;danger&quot;\n    icon=&quot;el-icon-edit&quot;\n  &gt;一键重算1&lt;/el-button&gt;\n  &lt;el-button\n    slot=&quot;append-filterbar-submit&quot;\n    type=&quot;danger&quot;\n    icon=&quot;el-icon-edit&quot;\n  &gt;一键重算2&lt;/el-button&gt;\n&lt;/listsview&gt;</code></pre>\n'},8715:function(e,t,n){(e.exports=n("2350")(!1)).push([e.i,'\n.list-view__filterbar{padding-top:10px;margin-top:-10px;margin-bottom:10px\n}\n.list-view__filterbar:after{display:table;clear:both;content:""\n}\n.list-view__filterbar--fold{-webkit-box-sizing:content-box;box-sizing:content-box;height:32px;overflow:hidden\n}\n.list-view__filterbar .el-button{height:32px;padding-top:0;padding-bottom:0;line-height:32px;vertical-align:top\n}\n.list-view__filterbar .el-button [class*=" el-icon-"],.list-view__filterbar .el-button [class^=el-icon-]{width:1em\n}\n.list-view__filterbar .el-input-group__append,.list-view__filterbar .el-input-group__prepend{padding:0 10px\n}\n.list-view__filterbar .el-form-item__label{padding:0 0 0 2px;margin-right:-4px\n}\n.list-view__filterbar .filterbar__buttons .el-form-item,.list-view__filterbar .filterbar__buttons>*,.list-view__filterbar .filterbar__form .el-form-item,.list-view__filterbar .filterbar__form>*,.list-view__filterbar .filterbar__submit .el-form-item,.list-view__filterbar .filterbar__submit>*{margin:0\n}\n.list-view__filterbar .filterbar__buttons,.list-view__filterbar .filterbar__field{position:relative;display:inline-block;margin:0 10px 10px 0;vertical-align:top\n}\n.list-view__filterbar .filterbar__buttons .el-form-item__content>*,.list-view__filterbar .filterbar__buttons .el-form-item__content>.el-cascader .el-input__inner,.list-view__filterbar .filterbar__buttons .el-form-item__content>.el-input .el-input__inner,.list-view__filterbar .filterbar__buttons .el-form-item__content>.el-select .el-input__inner,.list-view__filterbar .filterbar__field .el-form-item__content>*,.list-view__filterbar .filterbar__field .el-form-item__content>.el-cascader .el-input__inner,.list-view__filterbar .filterbar__field .el-form-item__content>.el-input .el-input__inner,.list-view__filterbar .filterbar__field .el-form-item__content>.el-select .el-input__inner{vertical-align:top\n}\n.list-view__filterbar .filterbar__buttons{float:left;margin-right:0\n}\n.list-view__filterbar .filterbar__buttons .el-button+.el-dropdown,.list-view__filterbar .filterbar__buttons .el-dropdown+.el-button,.list-view__filterbar .filterbar__buttons .el-dropdown+.el-dropdown,.list-view__filterbar .filterbar__buttons .el-form-item__content>*{display:inline-block;margin-right:10px;margin-left:0\n}\n.list-view__filterbar .filterbar__form{margin-bottom:-10px\n}\n.list-view__filterbar .filterbar__submit{float:right;margin:0;margin-bottom:10px\n}\n.list-view__filterbar .filterbar__submit-btn{display:inline-block\n}\n.list-view__filterbar .filterbar__submit-btn .el-form-item__content>*{display:inline-block;-webkit-transition:inherit;transition:inherit\n}\n.list-view__filterbar .filterbar__submit-btn .el-form-item__content>:not(:first-child){margin-left:10px\n}\n.list-view__filterbar .filterbar__submit-more{width:40px;padding:0;margin-left:10px;line-height:30px\n}\n.list-view__filterbar .filterbar__submit--nomore{padding-right:50px\n}\n.list-view__filterbar .filterbar__submit--nomore .filterbar__submit-more{display:none\n}\n.list-view__filterbar .filterbar__submit--onleft{float:inherit\n}',""])},"8fc6":function(e,t){e.exports='<h1 id="-loading-">搜索栏操作按钮 loading 效果</h1>\n<p>通常可用在“导出”功能下，用于防止按钮被短时间内多次点击。</p>\n<pre><code class="language-vue">&lt;template&gt;\n  &lt;listview :filter-buttons=&quot;filterButtons&quot; /&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  // ...\n  data() {\n    return {\n      exportBtnLoading: false,\n      filterButtons: [\n        // 普通按钮通过 object 类型定义即可\n        {\n          type: &#39;success&#39;,\n          text: &#39;添加&#39;,\n          icon: &#39;el-icon-plus&#39;,\n          click: this.handleRefund\n        },\n\n        // 需要更改 loading 状态的按钮由于需要获取 this 上的数据，因此需要使用 JSX 来定义\n        () =&gt; (\n          &lt;el-button\n            loading={this.exportBtnLoading}\n            icon=&quot;el-icon-download&quot;\n            on-click={this.handleExport}\n          &gt;\n            导出Excel\n          &lt;/el-button&gt;\n        )\n      ]\n    }\n  },\n  methods: {\n    handleExport() {\n      this.exportBtnLoading = true\n      // 一些异步操作...\n\n      // 注意这里如果是后端接口直接返回文件（如 excel 文件）等，由于响应的非 xml 类型，\n      // 因此就算用 iframe 打开也无法触发事件，这种情况只能简单用定时器修改 loading 状态\n      setTimeout(() =&gt; {\n        this.exportBtnLoading = false\n      }, 2000)\n    }\n  }\n}\n&lt;/script&gt;</code></pre>\n'},9224:function(e){e.exports={a:"1.0.0-alpha.20"}},"938a":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("d233c");
/*!
 * get-value
 * fork from <https://github.com/jonschlinkert/get-value>
 */function l(e,t,n){if(s(n)||(n={default:n}),!o(e))return void 0!==n.default?n.default:e;"number"==typeof t&&(t=String(t));var i=Array.isArray(t),l="string"==typeof t,c=n.separator||".",u=n.joinChar||("string"==typeof c?c:".");if(!l&&!i)return e;if(l&&t in e)return a(t,e,n)?e[t]:n.default;var d=i?t:function(e,t,n){if("function"==typeof n.split)return n.split(e);return e.split(t)}(t,c,n),f=d.length,p=0;do{var b=d[p];for("number"==typeof b&&(b=String(b));b&&"\\"===b.slice(-1);)b=r([b.slice(0,-1),d[++p]||""],u,n);if(b in e){if(!a(b,e,n))return n.default;e=e[b]}else{for(var h=!1,m=p+1;m<f;)if(h=(b=r([b,d[m++]],u,n))in e){if(!a(b,e,n))return n.default;e=e[b],p=m-1;break}if(!h)return n.default}}while(++p<f&&o(e));return p===f?e:n.default}function r(e,t,n){return"function"==typeof n.join?n.join(e):e[0]+t+e[1]}function a(e,t,n){return"function"!=typeof n.isValid||n.isValid(e,t)}function o(e){return s(e)||Array.isArray(e)||"function"==typeof e}function s(e){return null!=e&&"object"===Object(i.a)(e)&&!1===Array.isArray(e)}},"9ede":function(e,t,n){"use strict";n.r(t);var i={name:"FieldDateTimeRange",mixins:[n("78e6").a],data:function(){return{defaultProps:{clearable:!0,style:{width:"360px"},type:"datetimerange",startPlaceholder:"开始日期",endPlaceholder:"结束日期",expandTrigger:"hover"}}}},l=n("2877"),r=Object(l.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-date-picker",e._g(e._b({attrs:{placeholder:e.field.label,disabled:e.field.disabled},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-date-picker",e.mergedProps,!1),e.mergedEvents))},[],!1,null,null,null);r.options.__file="field-date-time-range.vue";t.default=r.exports},b3d2:function(e,t,n){(e.exports=n("2350")(!1)).push([e.i,"\n.listview__header{padding:10px 20px;line-height:1.5;background-color:#fff;border-bottom:1px solid #dcdfe6\n}\n.listview__header .listview__title{display:inline-block;padding:0 1em 0 0;margin:0 1em 0 0;font-size:16px;border-right:1px solid #dcdfe6\n}\n.listview__header .listview__breadcrumb{display:inline-block\n}",""])},b635:function(e,t,n){"use strict";n("0fae");var i=n("9e2f"),l=n.n(i),r=n("a026"),a=n("d3ae"),o=n("a34a"),s=n.n(o),c=n("014f"),u=n("dd65"),d=n.n(u),f=n("0644"),p=n.n(f),b=n("60ed"),h=n.n(b),m=n("9520"),g=n.n(m),v=n("50ca"),_=n.n(v),w=n("4151"),x=n.n(w),y=n("42454"),k=n.n(y),F=n("375a"),C=n.n(F),O=n("4472"),j=n.n(O),q=n("13ea"),S=n.n(q),E=n("8fed"),M=n.n(E),L=n("77c1"),P=n.n(L),R=n("bc3a"),B=n.n(R),T=n("1765"),$={name:"ListviewHeader",props:{title:{type:String,default:""},nav:{type:Array,default:function(){return[]}}},computed:{internalNav:function(){var e=[];return this.nav.forEach(function(t){var n,i;"string"==typeof t&&t?n=t:h()(t)&&(n=t.text,i=t.to),n&&e.push({text:n,to:i})}),e}}},H=(n("ce9b"),n("2877")),z=Object(H.a)($,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.title||e.nav.length>0?n("div",{staticClass:"listview__header"},[e.title?n("h1",{staticClass:"listview__title"},[e._v("\n    "+e._s(e.title)+"\n  ")]):e._e(),n("el-breadcrumb",{staticClass:"listview__breadcrumb",attrs:{separator:"/"}},e._l(e.internalNav,function(t,i){return n("el-breadcrumb-item",{key:i,attrs:{to:t.to}},[e._v("\n      "+e._s(t.text)+"\n    ")])}))],1):e._e()},[],!1,null,null,null);z.options.__file="listview-header.vue";var D=z.exports,A=n("fa7d"),N=n("5492"),V=n.n(N),I=n("bba4"),U=n.n(I),J=n("2466"),X={};J.keys().forEach(function(e){var t=U()(e.replace(/^\.\//,"").replace(/\.\w+$/,""));X[t]=J(e).default});var G=Object.keys(X),K=G.map(function(e){return U()(e.replace(/^field/,""))}),Y=V()(K,G);function Q(e){if(!e)return!1;var t=U()(e);return Y[t]}var W=X,Z=n("aa12"),ee=n("8213"),te=n.n(ee),ne={name:"FilterForm",components:Object(Z.a)({},W,{VNode:T.a}),props:{model:{type:Object,default:function(){return{}}},fields:{type:Array,default:function(){return[]}}},methods:{isVNode:A.b,isFunction:g.a,getFieldComponentName:Q,getFieldValue:function(e){return this.model[e.model]},showFieldLabel:function(e){var t=this.getFieldValue(e);return null!==t&&te()(t)}}},ie=(n("5148"),Object(H.a)(ne,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.fields.length>0?n("div",e._l(e.fields,function(t,i){return n("div",{key:i,ref:"field",refInFor:!0,staticClass:"filterbar__field"},[t.label?n("transition",{attrs:{name:"label-trans"}},[e.showFieldLabel(t)?n("div",{staticClass:"filterbar__field-label"},[e._v("\n        "+e._s(t.label)+"\n      ")]):e._e()]):e._e(),e.isFunction(t)?n("v-node",{attrs:{node:t()}}):e.isFunction(t.render)?n("v-node",{attrs:{node:t.render(t)}}):e.isVNode(t)?n("v-node",{attrs:{node:t}}):n("el-form-item",[n(e.getFieldComponentName(t.type),e._b({tag:"component",attrs:{model:e.model,field:t}},"component",{style:t.width?{width:t.width+"px"}:null},!1))],1)],1)})):e._e()},[],!1,null,null,null));ie.options.__file="filter-form.vue";var le=ie.exports,re={name:"FilterBar",components:{VNode:T.a,FilterForm:le},props:{filterButtons:{type:Array,default:function(){return[]}},filterFields:{type:Array,default:function(){return[]}},filterModel:{type:Object,default:function(){return{}}},filterbarFold:{type:Boolean,default:!0},showFilterSearch:{type:Boolean,default:!0},showFilterReset:{type:Boolean,default:!0}},data:function(){return{internalFilterbarFold:!0,topRightFilterIndex:-1,searchBtnOffset:0}},computed:{validFilterFields:function(){return this.filterFields.filter(function(e){return g()(e)||g()(e.render)||Object(A.b)(e)||Q(e.type)})},isNoneFields:function(){return 0===this.validFilterFields.length},showFilterButtons:function(){return this.filterButtons.length>0},showFilterFields:function(){return this.validFilterFields.length>0},showFilterSubmit:function(){return this.showFilterSearch||this.showFilterReset||this.$slots["prepend-filterbar-submit"]||this.$slots["append-filterbar-submit"]},filterbarHasMore:function(){return this.topRightFilterIndex>=0&&this.topRightFilterIndex<this.validFilterFields.length-1}},watch:{showFilterSearch:function(){this.updateLayout()},showFilterReset:function(){this.updateLayout()},filterbarFold:function(){this.internalFilterbarFold=this.filterbarFold,this.updateLayout()}},mounted:function(){this.internalFilterbarFold=this.filterbarFold,this.updateLayout()},methods:{isVNode:A.b,isFunction:g.a,getAllFieldsDom:function(){var e=this.$refs.filterForm;return e&&e.$refs.field||[]},applyButtonClick:function(e,t){if(e&&g()(e.click))return e.click(t)},handleFilterSearch:function(){this.$emit("filter-submit",this.filterModel)},handleFilterReset:function(){var e=this,t=this.filterModel;this.filterFields.forEach(function(n){var i=n.model;if(i&&t.hasOwnProperty(i)){var l=t[i];Array.isArray(l)?e.$set(t,i,[]):e.$set(t,i,void 0)}}),this.$emit("filter-reset",this.filterModel)},toggleFilterbar:function(){this.internalFilterbarFold=!this.internalFilterbarFold,this.$emit("update:filterbarFold",this.internalFilterbarFold)},updateLayout:function(){var e=Object(c.a)(s.a.mark(function e(){var t,n,i,l,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:if(!((t=this.getAllFieldsDom()).length>0)){e.next=18;break}n=t[0].getBoundingClientRect().top,i=-1,l=0;case 7:if(!(l<t.length)){e.next=16;break}if(r=t[l].getBoundingClientRect().top,n===r){e.next=11;break}return e.abrupt("break",16);case 11:n=r,i=l;case 13:l++,e.next=7;break;case 16:this.topRightFilterIndex=i,this.updateSubmitOffset();case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),updateSubmitOffset:function(){var e=this.getAllFieldsDom(),t=0;if(this.topRightFilterIndex>=0){var n=this.$refs.submit.getBoundingClientRect().left,i=e[this.topRightFilterIndex].getBoundingClientRect();t=i.left+i.width-n+10,t=Math.min(0,t)}this.searchBtnOffset=t}}},ae=(n("5b26"),Object(H.a)(re,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showFilterButtons||e.showFilterSubmit||e.showFilterFields?n("div",{class:["list-view__filterbar",{"list-view__filterbar--fold":e.internalFilterbarFold}]},[n("el-form",{attrs:{inline:!0,size:"small"},nativeOn:{submit:function(e){e.preventDefault()},keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilterSearch(t):null}}},[e.showFilterButtons?n("div",{staticClass:"filterbar__buttons"},[n("el-form-item",[e._l(e.filterButtons,function(t,i){return[e.isFunction(t)?n("v-node",{key:i,attrs:{node:t()}}):t.render?n("v-node",{key:i,attrs:{node:t.render()}}):e.isVNode(t)?n("v-node",{key:i,attrs:{node:t}}):Array.isArray(t.children)?n("el-dropdown",{key:i,attrs:{type:t.type,"split-button":t.splitButton,trigger:t.trigger||"click",placement:"bottom"},on:{click:function(n){e.applyButtonClick(t,n)}}},[t.splitButton?[t.icon?n("i",{class:t.icon}):e._e(),e._v("\n              "+e._s(t.text)+"\n            ")]:[n("el-button",{attrs:{type:t.type,icon:t.icon},on:{click:function(n){e.applyButtonClick(t,n)}}},[e._v("\n                "+e._s(t.text)),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})])],n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(t.children,function(t,i){return n("el-dropdown-item",{key:i,nativeOn:{click:function(n){e.applyButtonClick(t,n)}}},[t.icon?n("i",{class:t.icon}):e._e(),e._v("\n                "+e._s(t.text)+"\n              ")])}))],2):n("el-button",{key:i,attrs:{type:t.type,plain:t.plain,icon:t.icon},on:{click:function(n){e.applyButtonClick(t,n)}}},[e._v("\n            "+e._s(t.text)+"\n          ")])]})],2)],1):e._e(),e.showFilterSubmit?n("div",{ref:"submit",class:["filterbar__submit",{"filterbar__submit--nomore":!e.filterbarHasMore,"filterbar__submit--onleft":e.isNoneFields}]},[n("div",{staticClass:"filterbar__submit-btn",style:{transform:"translateX("+e.searchBtnOffset+"px)"}},[n("el-form-item",[e._t("prepend-filterbar-submit"),e.showFilterSearch?n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilterSearch}},[e._v("\n            搜索\n          ")]):e._e(),e.showFilterReset?n("el-button",{on:{click:e.handleFilterReset}},[e._v("\n            重置\n          ")]):e._e(),e._t("append-filterbar-submit")],2)],1),n("el-button",{staticClass:"filterbar__submit-more",attrs:{icon:e.internalFilterbarFold?"el-icon-caret-bottom":"el-icon-caret-top",type:"primary"},on:{click:e.toggleFilterbar}})],1):e._e(),e.showFilterFields?n("filter-form",{ref:"filterForm",staticClass:"filterbar__form",attrs:{fields:e.validFilterFields,model:e.filterModel}}):e._e()],1)],1):e._e()},[],!1,null,null,null));ae.options.__file="filterbar.vue";var oe=ae.exports;function se(){}var ce=se,ue=se;ce=function(e){console.warn("[Listview warn] ".concat(e))},ue=function(e){console.error("[Listview error] ".concat(e))};var de=n("8103"),fe=n.n(de),pe=n("efdf"),be=n.n(pe);function he(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case"camelCase":e=U.a;break;case"snakeCase":e=be.a;break;case"pascalCase":e=function(e){return fe()(U()(e))}}return e?_()(t,function(t,n,i){return t[e(i)]=n,t},{}):t}function me(){return he(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},"camelCase")}function ge(){return he(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},"snakeCase")}function ve(){return he(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},"pascalCase")}n("d49b");var _e="page_index",we="page_size";function xe(e){if(Array.isArray(e)){var t=e.filter(function(e){return Object(A.c)(e)}),n=P()(M()(t,"model"),function(e){return e>1});S()(n)||ue("FilterFields 配置内有重复的 'model' : "+Object.keys(n).join(", "))}}function ye(e,t){Object.keys(t).forEach(function(n){try{e[n]=t[n](e[n],e)}catch(i){Object(A.d)(e[n])&&ue(["FilterFields '".concat(n,"' getter error:"),"  - Value: ".concat(JSON.stringify(e[n])),"  - Getter: ".concat(t[n].toString()),"  - Error: ".concat(i)].join("\n"))}})}var ke={name:"Listview",components:{VNode:T.a,Filterbar:oe,ListviewHeader:D},inheritAttrs:!1,props:{headerTitle:{type:String,default:""},headerNav:{type:Array,default:function(){return[]}},height:{type:[String,Number],default:null},fullHeight:{type:Boolean,default:!0},contentMinHeight:{type:[String,Number],default:160,validator:function(e){return parseInt(e,10)>=0}},autoload:{type:Boolean,default:!0},requestUrl:{type:String,default:""},requestMethod:{type:String,default:"get"},requestConfig:{type:Object,default:function(){return{}}},requestDataKeyCase:{type:String,default:null,validator:function(e){return["camelCase","snakeCase","pascalCase"].indexOf(e)>-1}},requestHandler:{type:Function,default:null},transformRequestData:{type:Function,default:null},transformResponseData:{type:Function,default:null},contentDataMap:{type:Object,default:function(){return{items:"result.items",total:"result.total_count"}}},contentMessage:{type:[Object,String],default:null},validateResponse:{type:Function,default:function(e){try{return e.is_success}catch(e){return!1}}},resolveResponseErrorMessage:{type:Function,default:function(e){try{return e.error_info.msg}catch(e){return"未知错误"}}},filterButtons:{type:Array,default:function(){return[]}},filterFields:{type:Array,default:function(){return[]}},filterModel:{type:Object,default:function(){return{}}},showFilterSearch:{type:Boolean,default:!0},showFilterReset:{type:Boolean,default:!0},tableColumns:{type:Array,default:function(){return[]}},tableProps:{type:Object,default:function(){return{}}},tableEvents:{type:Object,default:function(){return{}}},tableSelectEnable:{type:[Boolean,String],default:!0},tableSelection:{type:Array,default:function(){return[]}},usePage:{type:[Boolean,Object],default:!0},pageSizes:{type:Array,default:function(){return[20,50,100]}},pageSize:{type:Number,default:20}},data:function(){return{maxHeight:null,contentHeight:null,filterbarFold:!0,contentLoading:!1,contentData:{items:[],total:0},internalContentMessage:null,internalListSelection:[],currentPage:1,currentPageSize:this.pageSize}},computed:{contentBottomOffset:function(){var e=this.$refs.main;return(parseInt(getComputedStyle(e)["padding-bottom"],10)||0)+(parseInt(getComputedStyle(e)["margin-bottom"],10)||0)+(parseInt(getComputedStyle(e)["border-bottom-width"],10)||0)},fixedHeight:function(){return Object(A.e)(this.height)},normalizeTableEvents:function(){return j()(this.tableEvents,function(e,t){return C()(t)})},normalizeTableProps:function(){return k()({size:"small",border:!0,stripe:!0},this.tableProps)},filterModelGetters:function(){var e=x()(this.filterFields,"model"),t={};return _()(e,function(e,t,n){g()(t.get)&&(e[t.model]=t.get)},t),t}},watch:{height:"initLayout",fullHeight:"initLayout",showFilterSearch:"initLayout",showFilterReset:"initLayout",filterbarFold:"initLayout",filterFields:function(e){this.initLayout(),xe(e)}},created:function(){if(this.contentMessage)if("string"==typeof this.contentMessage)this.setContentMessage(this.contentMessage);else if(h()(this.contentMessage)){var e=this.contentMessage,t=e.type,n=e.message;this.setContentMessage(n,t)}xe(this.filterFields)},mounted:function(){this.initLayout(),this.autoload&&this.requestData()},beforeDestroy:function(){window.removeEventListener("resize",this.updateContentHeight),window.removeEventListener("resize",this.updateFilterbarLayout)},methods:{initLayout:function(){var e=Object(c.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:this.updateLayout(),this.fullHeight?window.addEventListener("resize",this.updateContentHeight):window.removeEventListener("resize",this.updateContentHeight),this.$refs.filterbar.validFilterFields.length>0?window.addEventListener("resize",this.updateFilterbarLayout):window.removeEventListener("resize",this.updateFilterbarLayout);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),updateLayout:function(){this.updateContentHeight(),this.updateFilterbarLayout()},updateContentHeight:function(){var e=Object(c.a)(s.a.mark(function e(){var t,n,i,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._inactive){e.next=2;break}return e.abrupt("return");case 2:if(this.fixedHeight?this.maxHeight=this.$el.getBoundingClientRect().height:this.fullHeight?this.maxHeight=window.innerHeight:(this.maxHeight=null,this.contentHeight=parseInt(this.contentMinHeight,10)),null===this.maxHeight){e.next=11;break}return e.next=6,this.$nextTick();case 6:t=this.$refs.content,n=t?t.getBoundingClientRect().top:0,i=this.getPaginationHeight(),l=this.maxHeight-n-this.contentBottomOffset-i,this.contentHeight=Math.max(l,this.contentMinHeight);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),updateFilterbarLayout:function(){var e=Object(c.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:this.$refs.filterbar.updateLayout();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),handleFilterSubmit:function(){this.search(),this.$emit("filter-submit")},handleFilterReset:function(){this.$emit("filter-reset")},search:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||(this.currentPage=1),this.requestData()},requestData:function(){var e=Object(c.a)(s.a.mark(function e(){var t,n,i,l,r,a,o,c,u,f,b,m=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.requestHandler||this.requestUrl){e.next=2;break}return e.abrupt("return",ce("未配置 requestUrl 或 requestHandler ，无法发起数据请求。"));case 2:if(ye(t=p()(this.filterModel),this.filterModelGetters),t=d()(t,function(e){return!Object(A.d)(e)}),this.usePage&&(n=_e,i=we,h()(this.usePage)&&(n=this.usePage.pageIndex||n,i=this.usePage.pageSize||i),t[n]=this.currentPage,t[i]=this.currentPageSize),!this.requestDataKeyCase){e.next=16;break}e.t0=this.requestDataKeyCase,e.next="camelCase"===e.t0?10:"snakeCase"===e.t0?12:"pascalCase"===e.t0?14:16;break;case 10:return t=me(t),e.abrupt("break",16);case 12:return t=ge(t),e.abrupt("break",16);case 14:return t=ve(t),e.abrupt("break",16);case 16:if(!1!==(l=this.transformRequestData?this.transformRequestData(t):t)){e.next=20;break}return this.contentLoading=!1,e.abrupt("return");case 20:if(this.contentLoading=!0,!this.requestHandler){e.next=27;break}return e.next=24,this.requestHandler(l);case 24:r=e.sent,e.next=44;break;case 27:if(!this.requestUrl){e.next=44;break}return this._requestCancelToken&&this._requestCancelToken(),"get"===(a={url:this.requestUrl,method:this.requestConfig.method||this.requestMethod,withCredentials:!0}).method?a.params=l:a.data=l,(o=k()(a,this.requestConfig)).cancelToken=new B.a.CancelToken(function(e){m._requestCancelToken=e}),e.prev=33,c=B.a.create(),e.next=37,c(o);case 37:u=e.sent,r=u.data,e.next=44;break;case 41:e.prev=41,e.t1=e.catch(33),B.a.isCancel(e.t1)||(this.setContentMessage(e.t1.message,"error"),this.contentLoading=!1);case 44:this.contentLoading=!1,f=null,this.validateResponse(r)?(this.setContentMessage(null),f=this.transformResponseData?this.transformResponseData(r):r):this.setContentMessage(this.resolveResponseErrorMessage(r),"error"),b=this.contentDataMap?Object(A.a)(f,this.contentDataMap):f,this.contentData=b;case 49:case"end":return e.stop()}},e,this,[[33,41]])}));return function(){return e.apply(this,arguments)}}(),handleRowClick:function(e,t){"single"===this.tableSelectEnable&&(this.$refs.contentTable.store.states.selection=[]),this.$refs.contentTable.toggleRowSelection(e)},handleTableSelectionChange:function(e){this.internalListSelection=e,this.$emit("update:tableSelection",this.internalListSelection)},contentTableRowClassName:function(e){return this.tableSelection.indexOf(e.row)>-1?"row--selected":""},renderTableColumn:function(e){var t=this;return h()(e)?function e(n){var i=n.render,l=n.children,r={props:Object(a.a)(n,["render","children"])};i&&(r.scopedSlots={default:i});var o=Array.isArray(l)?l.map(function(t){return e(t)}):null;return t.$createElement("el-table-column",r,o)}(e):null},setContentMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==e){var n=t&&{success:"el-icon-success",warning:"el-icon-warning",info:"el-icon-info",error:"el-icon-error"}[t]||null;this.internalContentMessage={type:t,icon:n,message:e}}else this.internalContentMessage=null},handleSizeChange:function(e){this.currentPageSize=e,this.currentPage=1,this.requestData()},handleCurrentChange:function(e){this.currentPage=e,this.requestData()},getPaginationHeight:function(){var e=this.$refs.pagination;return e?e.getBoundingClientRect().height:0}}},Fe=Object(H.a)(ke,function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"listview",style:{height:t.fixedHeight,minHeight:t.fixedHeight&&"inherit"}},[i("listview-header",{attrs:{title:t.headerTitle,nav:t.headerNav}}),i("div",{ref:"main",staticClass:"listview__main"},[i("filterbar",{ref:"filterbar",attrs:{"filter-buttons":t.filterButtons,"filter-fields":t.filterFields,"filter-model":t.filterModel,"filterbar-fold":t.filterbarFold,"show-filter-search":t.showFilterSearch,"show-filter-reset":t.showFilterReset},on:{"update:filterbarFold":function(e){t.filterbarFold=e},"filter-submit":t.handleFilterSubmit,"filter-reset":t.handleFilterReset}},[i("template",{slot:"prepend-filterbar-submit"},[t._t("prepend-filterbar-submit")],2),i("template",{slot:"append-filterbar-submit"},[t._t("append-filterbar-submit")],2)],2),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.contentLoading,expression:"contentLoading"}]},[i("div",{ref:"content",staticClass:"listview__content",style:{height:t.contentHeight+"px"}},[t._t("default",[i("el-table",t._g(t._b({ref:"contentTable",style:{width:"100%"},attrs:{data:t.contentData.items,height:t.contentHeight,"row-class-name":t.contentTableRowClassName},on:{"selection-change":t.handleTableSelectionChange,"row-click":t.handleRowClick}},"el-table",t.normalizeTableProps,!1),t.normalizeTableEvents),[t.internalContentMessage?i("template",{slot:"empty"},[i("span",{class:["content-message",(e={},e["content-message--"+t.internalContentMessage.type]=t.internalContentMessage.type,e)]},[t.internalContentMessage.icon?i("span",{staticClass:"content-message--icon"},[i("i",{class:t.internalContentMessage.icon})]):t._e(),i("span",{staticClass:"content-message--message"},[t._v(t._s(t.internalContentMessage.message))])])]):t._e(),"single"===t.tableSelectEnable?i("el-table-column",{attrs:{fixed:t.tableColumns.some(function(e){return e.fixed}),resizable:!1,width:"50",align:"center","class-name":"table-column--single-selection"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[i("el-radio",{attrs:{value:t.tableSelection.indexOf(n)>-1&&"",label:""},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),function(e){return t.handleRowClick(n,e)}(e)}}})]}}])}):t.tableSelectEnable?i("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}):t._e(),t._l(t.tableColumns,function(e,n){return[i("v-node",{key:n,attrs:{node:t.renderTableColumn(e)}})]})],2)],{filterModel:t.filterModel,contentHeight:t.contentHeight,contentLoading:t.contentLoading,contentData:t.contentData,contentMessage:t.internalContentMessage})],2),t.usePage?i("div",{ref:"pagination",staticClass:"listview__page"},[i("el-pagination",{attrs:{total:t.contentData.total,"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()])],1)],1)},[],!1,null,null,null);Fe.options.__file="listview.vue";var Ce=Fe.exports,Oe=(n("dcf0"),{name:"ListviewContainer",components:{VNode:T.a,ListviewHeader:D},props:{headerTitle:{type:String,default:""},headerNav:{type:Array,default:function(){return[]}}},data:function(){return{activeTab:0}},computed:{childListviews:function(){return this.$slots.default.filter(function(e){return e.componentOptions&&"Listview"===e.componentOptions.Ctor.extendOptions.name})},childListviewTitles:function(){return this.childListviews.map(function(e){return e.componentOptions.propsData.headerTitle||""})}},watch:{activeTab:function(){var e=Object(c.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:this.childListviews[t].componentInstance.updateLayout();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}}),je=Object(H.a)(Oe,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"listview-container"},[n("listview-header",{attrs:{title:e.headerTitle,nav:e.headerNav}}),n("div",{staticClass:"listview-container__tabs"},e._l(e.childListviewTitles,function(t,i){return n("span",{key:i,class:["listview-container__tab",{"listview-container__tab--active":i===e.activeTab}],on:{click:function(t){e.activeTab=i}}},[e._v("\n      "+e._s(t||"未命名")+"\n    ")])})),n("div",{staticClass:"listview-container__content"},[e._l(e.childListviews,function(t,i){return[n("keep-alive",{key:i},[i===e.activeTab?n("v-node",{ref:"listviewChild",refInFor:!0,attrs:{node:t}}):e._e()],1)]})],2)],1)},[],!1,null,null,null);je.options.__file="listview-container.vue";var qe=je.exports;n.d(t,"a",function(){return Ce}),n.d(t,"b",function(){return qe}),r.default.use(l.a),Ce.install=function(){r.default.component(Ce.name,Ce)},qe.install=function(){r.default.component(qe.name,qe)},"undefined"!=typeof window&&window.Vue&&(window.Vue.use(Ce),window.Vue.use(qe))},b86b:function(e,t,n){"use strict";n.r(t);var i={name:"FieldTimeRange",mixins:[n("78e6").a],data:function(){return{defaultProps:{clearable:!0,style:{width:"200px"},isRange:!0,startPlaceholder:"开始时间",endPlaceholder:"结束时间"}}}},l=n("2877"),r=Object(l.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-time-picker",e._g(e._b({attrs:{placeholder:e.field.label,disabled:e.field.disabled},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-time-picker",e.mergedProps,!1),e.mergedEvents))},[],!1,null,null,null);r.options.__file="field-time-picker-range.vue";t.default=r.exports},bd89:function(e,t,n){"use strict";n.r(t);var i={name:"FieldDateTime",mixins:[n("78e6").a],data:function(){return{defaultProps:{clearable:!0,style:{width:"200px"},type:"datetime"}}}},l=n("2877"),r=Object(l.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-date-picker",e._g(e._b({attrs:{placeholder:e.field.label,disabled:e.field.disabled},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-date-picker",e.mergedProps,!1),e.mergedEvents))},[],!1,null,null,null);r.options.__file="field-date-time.vue";t.default=r.exports},bdca:function(e,t,n){"use strict";n.r(t);var i={name:"FieldNumber",mixins:[n("78e6").a],data:function(){return{defaultProps:{controlsPosition:"right",style:{width:"100px"}}}}},l=n("2877"),r=Object(l.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-input-number",e._g(e._b({attrs:{placeholder:e.field.label,disabled:e.field.disabled},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-input-number",e.mergedProps,!1),e.mergedEvents))},[],!1,null,null,null);r.options.__file="field-number.vue";t.default=r.exports},c057:function(e,t){e.exports='<h1 id="-label">自定义组件绑定 label</h1>\n<p>listview 的 filterFields 支持传入 JSX 以解决内置基础字段类型无法满足的场景，如需要请求特定接口数据源的下拉选项等。</p>\n<p>但由于通过 JSX 无法直接绑定数据，因此需要在控件的值改变的时候自行写入父组件的 model ，具体可查看下方 demo 。</p>\n<pre><code class="language-vue">&lt;template&gt;\n  &lt;listview\n    :filter-fields=&quot;filterFields&quot;\n    :filter-model=&quot;filterModel&quot;\n  /&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  // ...\n  data() {\n    return {\n      filterModel: {\n        select: null\n      },\n      filterFields: [\n        {\n          model: &#39;select&#39;,\n          label: &#39;选项提示&#39;,\n          render: () =&gt; (\n            &lt;select\n              style=&quot;height:32px;width:100px&quot;\n              value={this.filterModel.select}\n              on-change={e =&gt; {\n                this.$set(this.filterModel, &#39;select&#39;, e.target.value)\n              }}\n            &gt;\n              &lt;option value=&quot;&quot; /&gt;\n              &lt;option value=&quot;1&quot;&gt;选项1&lt;/option&gt;\n              &lt;option value=&quot;2&quot;&gt;选项2&lt;/option&gt;\n            &lt;/select&gt;\n          )\n        }\n      ]\n    }\n  }\n}\n&lt;/script&gt;</code></pre>\n'},c433:function(e,t,n){"use strict";n.r(t),function(e){var t=n("aa12"),i=n("7d14"),l=n("85fc");function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){return{template:'<listview v-bind="props" />',data:function(){return{props:Object(t.a)({filterButtons:l.a,filterFields:l.c,tableColumns:l.e},e)}}}}}var a=Object(i.storiesOf)("整体布局",e);a.add("1. 默认铺满屏幕高度",r()),a.add("2. 指定高度",r({height:500})),a.add("3. 自动高度",r({fullHeight:!1})),a.add("4. 带面包屑",r({headerTitle:"演示列表",headerNav:[{text:"菜单1"},{text:"菜单2"}]})),a.add("5. 所有按钮、字段类型",r({filterButtons:l.b,filterFields:l.d})),a.add("6. 多列表切换",function(){return{template:'\n      <listview-container\n        header-title="演示列表"\n        :header-nav="[{ text: \'菜单1\' }, { text: \'菜单2\' }]"\n      >\n        <listview v-bind="props1" header-title="列表1" />\n        <listview v-bind="props2" header-title="列表2" />\n      </listview-container>\n    ',data:function(){return{props1:{filterButtons:l.a,filterFields:l.c,tableColumns:l.e},props2:{filterButtons:l.a,filterFields:l.d,tableColumns:l.e}}}}})}.call(this,n("dd40")(e))},c9cb:function(e,t,n){"use strict";n.r(t);var i={name:"FieldCascader",mixins:[n("78e6").a],data:function(){return{defaultProps:{clearable:!0,style:{width:"180px"},expandTrigger:"hover"}}}},l=n("2877"),r=Object(l.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-cascader",e._g(e._b({attrs:{placeholder:e.field.label,disabled:e.field.disabled,options:e.field.options},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-cascader",e.mergedProps,!1),e.mergedEvents))},[],!1,null,null,null);r.options.__file="field-cascader.vue";t.default=r.exports},ce9b:function(e,t,n){"use strict";var i=n("78e2");n.n(i).a},d02e:function(e,t,n){(e.exports=n("2350")(!1)).push([e.i,".listview{overflow:auto}.listview .el-table .el-table__body tr.el-table__row.row--selected td{background-color:#ffd}.listview .el-table th{background:#f5f7fa}.listview__main{padding:10px;padding-bottom:5px;background-color:#fff;border:5px solid #f0f2f5}.listview__content{overflow:auto}.listview__content .el-table__empty-text{width:auto;max-width:50%}.listview .content-message{display:-webkit-box;display:-ms-flexbox;display:flex;padding:15px 20px;line-height:30px;border-radius:5px;-webkit-box-shadow:0 0 15px #ddd;box-shadow:0 0 15px #ddd}.listview .content-message--icon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;font-size:24px}.listview .content-message--message{font-size:14px;text-align:left}.listview .content-message--success .content-message--icon{color:#6ac243}.listview .content-message--warning .content-message--icon{color:#f90}.listview .content-message--info .content-message--icon{color:#459ffc}.listview .content-message--error .content-message--icon{color:#f56c6c}.listview .table-column--single-selection .el-radio__label{display:none}.listview__page{padding-top:5px}.listview .el-pagination.is-background .btn-next,.listview .el-pagination.is-background .btn-prev,.listview .el-pagination.is-background .el-pager li{margin:0 8px 0 0}.listview .el-pagination.is-background .el-select .el-input{margin:0}.listview .el-table--border .el-table-column--selection .cell{padding-right:10px;padding-left:10px}",""])},d49b:function(e,t,n){var i=n("d02e");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("499e").default)("d0e28b26",i,!0,{sourceMap:!1,shadowMode:!1})},d5f3:function(e,t,n){var i=n("8715");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("499e").default)("2a698e48",i,!0,{sourceMap:!1,shadowMode:!1})},dcf0:function(e,t,n){var i=n("e8a7");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("499e").default)("d5bd6ebe",i,!0,{sourceMap:!1,shadowMode:!1})},dd68:function(e,t,n){"use strict";n.r(t);var i={name:"FieldTimeSelect",mixins:[n("78e6").a],data:function(){return{defaultProps:{clearable:!0,style:{width:"120px"}}}}},l=n("2877"),r=Object(l.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-time-select",e._g(e._b({attrs:{placeholder:e.field.label,disabled:e.field.disabled},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-time-select",e.mergedProps,!1),e.mergedEvents))},[],!1,null,null,null);r.options.__file="field-time-select.vue";t.default=r.exports},e8a7:function(e,t,n){(e.exports=n("2350")(!1)).push([e.i,".listview-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.listview-container__tabs{padding:5px 5px 0;background:#f4f7fa;border-bottom:1px solid #e2e6ec}.listview-container__tab{display:inline-block;padding:0 16px;margin-bottom:-1px;margin-left:-1px;font-size:14px;line-height:36px;color:#333;cursor:pointer;border:solid transparent;border-width:1px 1px 0;border-radius:3px 3px 0 0;-webkit-transition:color .2s;transition:color .2s}.listview-container__tab:hover{color:#409eff}.listview-container__tab--active{color:#409eff;cursor:default;background:#fff;border-color:#dadee5}.listview-container__content{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:hidden}.listview-container__content .listview__header{display:none}.listview-container__content .listview__main{border-top:none}",""])},fa7d:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return p});var i=n("13ea"),l=n.n(i),r=n("60ed"),a=n.n(r),o=n("a026"),s=n("938a");function c(e){return e instanceof(new o.default).$createElement().constructor}function u(e){var t=/\d+%/.test(e),n=parseInt(e,10);return n?"".concat(n,t?"%":"px"):null}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return Object.keys(t).forEach(function(i){try{var l=i.toString(),r=Object(s.a)(e,t[i]);n[l]=r}catch(e){}}),n}function f(e){return!(null===e||void 0===e||""===e||(Array.isArray(e)||a()(e))&&l()(e))}function p(e){return a()(e)&&e.hasOwnProperty("model")&&"string"==typeof e.model}},fa86:function(e,t,n){"use strict";n.r(t);var i={name:"FieldMultipleSelect",mixins:[n("78e6").a],data:function(){return{defaultProps:{clearable:!0,filterable:!0,style:{width:"180px"},multiple:!0,collapseTags:!0}}}},l=n("2877"),r=Object(l.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",e._g(e._b({attrs:{placeholder:e.field.label,disabled:e.field.disabled},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-select",e.mergedProps,!1),e.mergedEvents),[Array.isArray(e.field.options)?e._l(e.field.options,function(t,i){return n("el-option",e._b({key:i},"el-option",t,!1))}):e._e()],2)},[],!1,null,null,null);r.options.__file="field-multiple-select.vue";t.default=r.exports},fccc:function(e,t,n){"use strict";n.r(t);var i={name:"FieldTimePicker",mixins:[n("78e6").a],data:function(){return{defaultProps:{clearable:!0,style:{width:"120px"}}}}},l=n("2877"),r=Object(l.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-time-picker",e._g(e._b({attrs:{placeholder:e.field.label,disabled:e.field.disabled},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-time-picker",e.mergedProps,!1),e.mergedEvents))},[],!1,null,null,null);r.options.__file="field-time-picker.vue";t.default=r.exports}},[[0,2,4]]]);
//# sourceMappingURL=iframe.5246e5e36e3fa48b94a5.bundle.js.map